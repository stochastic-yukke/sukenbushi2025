\RequirePackage{plautopatch}
\RequirePackage[l2tabu, orthodox]{nag}
% 古いパッケージや命令の利用を警告する
%
\documentclass[dvipdfmx]{jlreq}
% 文書クラス，パッケージ情報
%
%
%\usepackage{ascmac}% 結局使わなかった
%
\usepackage{tcolorbox}
\tcbuselibrary{xparse,hooks,skins,breakable}
% tcolorboxを使う
%
\usepackage{graphicx}
% 画像挿入した
%
\usepackage{tikz}
% TikZパッケージ
%
\usepackage{okumacro}
% ルビ\ruby を使った
%
\usepackage{listings,jvlisting}
\lstset{
    language=Python,%
    basicstyle={\small},%
    identifierstyle={\small},%
    commentstyle={\small\itshape},%
    keywordstyle={\small\bfseries},%
    ndkeywordstyle={\small},%
    stringstyle={\small\ttfamily},%
    frame={tblr},%
    breaklines=true,%
    columns=[l]{fullflexible},%
    numbers=left,%
    xrightmargin=0zw,%
    xleftmargin=3zw,%
    numberstyle={\scriptsize},%
    stepnumber=1,%
    numbersep=1zw,%
    lineskip=-0.5ex%
}% listings,jvlistings環境を使ってPythonのソースコードを書いた
%
%
\usepackage{amsmath,amssymb,amsthm}
\usepackage{thmtools}
\usepackage{mathtools}
% 数式，定理等の基本的なパッケージ
\usepackage[all, warning]{onlyamsmath}
% amsmath が提供しない数式環境を使用した場合に警告する
%
% -------------以下，自作環境---------------
%
\newtcolorbox{mybox}%
    [1]%
    []%
    {%
    breakable=true,%
    colback=gray!10,%
    boxrule=0pt,%
    sharp corners=north,%
    colbacktitle=black!56,%
    fonttitle=\bfseries\sffamily,%
    title=#1%
    }
% 囲み環境
%
\newtheoremstyle{myproposition}%
    {13pt}%                   % Space above
    {13pt}%                   % Space below
    {\normalfont}%
    {}%
    {\bfseries\sffamily}%
    {.}%
    {6pt}%                    % Space after head
    {\thmname{#1}\thmnumber{ #2}\thmnote{ (#3)}}
% 定理/命題/補題などのための環境
%
\declaretheoremstyle[%
    spaceabove=13pt, spacebelow=13pt,%
    headfont=\bfseries\sffamily,%
    notefont=\bfseries\sffamily,%
    notebraces={\lparen}{\rparen},%
    postheadspace=1em,%
    numberwithin=section,%
    qed=$\triangleleft$%
]{mydefinition}
% 定義のための環境
%
\declaretheoremstyle[%
    spaceabove=13pt, spacebelow=13pt,%
    headfont=\bfseries\sffamily,%
    notefont=\bfseries\sffamily,%
    notebraces={\lparen}{\rparen},%
    postheadspace=1em,%
    numbered=no,%
    qed=$\blacksquare$%
]{myproof}
% 証明のための環境
%
\newtcolorbox{vlinebox}{%
    enhanced,colback=white,colframe=white,breakable,%
    underlay={%
    \path[draw, ultra thick, lightgray](frame.north west)--(frame.south west);%
    }%
}
% 証明に添える縦棒の環境
%
\newtcolorbox{mypropbox}{%
    empty,%
    breakable,%
    underlay={%
    \fill[black!5] (frame.north west) rectangle (frame.south east);%
    \draw[line width=2pt] ([xshift=1pt]frame.north west)--([xshift=1pt]frame.south west);%
    }%
}
% 定理/命題/補題を強調するための環境
%
\declaretheorem[title=\underbar{Proof}, style=myproof]{myprf}
\newenvironment{prf}{\begin{vlinebox}\begin{myprf}}{\end{myprf}\end{vlinebox}}
%
\declaretheorem[title=定義, style=mydefinition]{mydefinition}
\newenvironment{dfn}{\begin{mydefinition}}{\end{mydefinition}}
%
\theoremstyle{myproposition}
\newtheorem{theorem}{定理}[section]
\newtheorem{lem}[theorem]{補題}
\newtheorem{proposition}[theorem]{命題}
\newenvironment{thm}{\begin{mypropbox}\begin{theorem}}{\end{theorem}\end{mypropbox}}
\newenvironment{lemma}{\begin{mypropbox}\begin{lem}}{\end{lem}\end{mypropbox}}
\newenvironment{prop}{\begin{mypropbox}\begin{proposition}}{\end{proposition}\end{mypropbox}}
%
% --------------以上が自作環境-----------------
%
\setcounter{tocdepth}{2}
% 目次の深さ:subsectionまで
%
\usepackage{hyperref}
%ハイパーリンクを設定
%
%
\title{１年生の夢を追う}
\date{}
\author{yukke}

\begin{document}
\maketitle

\begin{abstract}
    $(x + y)^p = x^p + y^p$という間違いをする人がいることは想像に難くないでしょう。よく，この式を\textbf{Freshman's dream（1年生の夢）}と呼びます。
    この式を肯定することで数学が広がることを示したいと思います。親しみやすいのに不思議な整数の話題を扱っていきます。
\end{abstract}

\begin{dfn} \label{freshman}
    $x,y$がそれぞれどのような集合(またはクラス)$X,Y$の元であるか，$=$が$X,Y$上のどのような同値関係であるか，$+:(x,y)\mapsto x+y$がどのような演算であるか，$\cdot~^p$がどのような演算であるか，に関わらず，$(x + y)^p = x^p + y^p$という式を\textbf{Freshman's dream}と呼ぶことにする．また，これ以降，Freshman's dreamのことを\textbf{\textsf{FD}}と書く．
\end{dfn}

\tableofcontents

\input{sec_1.tex}

\input{sec_2.tex}

\input{sec_3.tex}

\input{sec_4.tex}

\input{sec_5.tex}

\input{extra.tex}

\end{document}
